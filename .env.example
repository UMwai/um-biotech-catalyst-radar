# =============================================================================
# Biotech Catalyst Radar - Environment Variables
# =============================================================================

# -----------------------------------------------------------------------------
# PostgreSQL Database Configuration
# -----------------------------------------------------------------------------
# Option 1: Use full DATABASE_URL (recommended for Heroku, Render, Supabase)
DATABASE_URL=postgresql://user:password@host:5432/biotech_radar

# Option 2: Use individual components (for local development)
# Uncomment these and comment out DATABASE_URL above
# DB_HOST=localhost
# DB_PORT=5432
# DB_NAME=biotech_radar
# DB_USER=postgres
# DB_PASSWORD=your_secure_password

# Database pool settings (optional, defaults: min=1, max=10)
# DB_POOL_MIN=1
# DB_POOL_MAX=10

# Lazy initialization - set to true to delay connection pool init until first use
# LAZY_DB_INIT=false

# -----------------------------------------------------------------------------
# Stripe Configuration
# -----------------------------------------------------------------------------
# Get your API keys from: https://dashboard.stripe.com/apikeys
STRIPE_API_KEY=sk_test_xxx

# Price IDs (create in Stripe Dashboard -> Products)
# Monthly plan: $29/month
STRIPE_PRICE_MONTHLY=price_monthly_xxx
# Annual plan: $232/year
STRIPE_PRICE_ANNUAL=price_annual_xxx

# Webhook secret (from Stripe Dashboard -> Developers -> Webhooks)
STRIPE_WEBHOOK_SECRET=whsec_xxx

# Legacy payment link (optional, for backward compatibility)
STRIPE_PAYMENT_LINK=https://buy.stripe.com/xxx

# -----------------------------------------------------------------------------
# Email Configuration (SendGrid)
# -----------------------------------------------------------------------------
SENDGRID_API_KEY=SG.xxx
SENDGRID_FROM_EMAIL=noreply@biotechradar.com
SENDGRID_FROM_NAME=Biotech Run-Up Radar

# Email template IDs (SendGrid dynamic templates)
# Create these in SendGrid Dashboard -> Email API -> Dynamic Templates
# SENDGRID_TEMPLATE_WELCOME=d-xxx
# SENDGRID_TEMPLATE_TRIAL_DAY_3=d-xxx
# SENDGRID_TEMPLATE_TRIAL_EXPIRING=d-xxx
# SENDGRID_TEMPLATE_PAYMENT_SUCCESS=d-xxx

# -----------------------------------------------------------------------------
# App Configuration
# -----------------------------------------------------------------------------
APP_ENV=development
APP_URL=http://localhost:8501
DEBUG=true
APP_NAME=Biotech Run-Up Radar

# Session secret (generate with: python -c "import secrets; print(secrets.token_hex(32))")
SESSION_SECRET=your_session_secret_here

# -----------------------------------------------------------------------------
# n8n Workflow Configuration
# -----------------------------------------------------------------------------
# n8n webhook URLs (for triggering workflows from the app)
# N8N_WEBHOOK_BASE_URL=https://your-n8n-instance.com/webhook
# N8N_WEBHOOK_NEW_USER=user-signup
# N8N_WEBHOOK_SUBSCRIPTION_EVENT=subscription-event

# -----------------------------------------------------------------------------
# External APIs
# -----------------------------------------------------------------------------
# ClinicalTrials.gov API (no key required, but rate limited)
CLINICAL_TRIALS_API_URL=https://clinicaltrials.gov/api/v2

# yfinance uses Yahoo Finance (no API key required)

# -----------------------------------------------------------------------------
# Analytics & Monitoring (Optional)
# -----------------------------------------------------------------------------
# PostHog
# POSTHOG_API_KEY=phc_xxx
# POSTHOG_HOST=https://app.posthog.com

# Sentry error tracking
# SENTRY_DSN=https://xxx@xxx.ingest.sentry.io/xxx

# -----------------------------------------------------------------------------
# Feature Flags
# -----------------------------------------------------------------------------
ENABLE_TRIAL=true
TRIAL_DAYS=7
FREE_PREVIEW_ROWS=10
MAX_MARKET_CAP=5000000000

# Enable/disable features
ENABLE_EMAIL_SEQUENCES=true
ENABLE_ANALYTICS=true
